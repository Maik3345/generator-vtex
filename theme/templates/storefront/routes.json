{
  "/": {
    "page": "home"
  },
  "/:slug/p": {
    "page": "product",
    "models": {
      "product": {
        "provider": "product",
        "parameters": {
          "slug": "route.parameters.slug"
        }
      }
    }
  },
  "/*term": {
    "models": {
      "search": {
        "provider": "search",
        "parameters": {
          "term": "route.parameters.term",
          "map": "request.queryString.map"
        }
      }
    },
    "page": [
      {
        "if": "search.type == 'brand'",
        "then": {
          "page": "brand",
          "models": {
            "brand": {
              "provider": "brand",
              "parameters": {
                "id": "search.id"
              }
            }
          }
        }
      },
      {
        "if": "search.type == 'category'",
        "then": {
          "page": "category",
          "models": {
            "category": {
              "provider": "category",
              "parameters": {
                "id": "search.id"
              }
            }
          }
        }
      },
      { "then": "search" }
    ]
  }
}
